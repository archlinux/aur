diff -pNaru5 a/pserial/perle-serial.c b/pserial/perle-serial.c
--- a/pserial/perle-serial.c	2023-12-19 00:14:42.357856502 -0500
+++ b/pserial/perle-serial.c	2023-12-19 00:14:51.337954324 -0500
@@ -2158,12 +2158,17 @@ static int ps_write(struct tty_struct *
 }
 
 #else		// linux kernel is at least 2.6.10 - write prototype has "from_user"
 			//	 removed from parameter list.
 
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6,6,0)
 static int ps_write(struct tty_struct * tty,
 		    const unsigned char *buf, int count)
+#else
+static ssize_t ps_write(struct tty_struct * tty,
+		    const unsigned char *buf, size_t count)
+#endif
 {
 	int	c, ret = 0;
 	struct ps_async_struct *info = (struct ps_async_struct *)tty->driver_data;
 	unsigned long flags;
 	
