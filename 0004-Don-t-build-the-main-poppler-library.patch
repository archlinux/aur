From 02e73aefa8cbca851ffe2f8c0d5fb6829ab1afdf Mon Sep 17 00:00:00 2001
From: Paul Gideon Dann <pdgiddie@gmail.com>
Date: Tue, 20 Oct 2009 18:32:35 +0100
Subject: [PATCH 4/4] Don't build the main poppler library.

---
 CMakeLists.txt | 18 ------------------
 1 file changed, 18 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index ac186d53..a3d94e82 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -484,24 +484,6 @@ if(TIFF_FOUND)
   set(poppler_LIBS ${poppler_LIBS} ${TIFF_LIBRARIES})
 endif()
 
-if(MSVC)
-add_definitions(-D_CRT_SECURE_NO_WARNINGS)
-set(CMAKE_CXX_FLAGS "/Zc:wchar_t- ${CMAKE_CXX_FLAGS}")
-add_library(poppler STATIC ${poppler_SRCS})
-else()
-add_library(poppler ${poppler_SRCS})
-endif()
-set_target_properties(poppler PROPERTIES VERSION 75.0.0 SOVERSION 75)
-if(MINGW)
-    get_target_property(POPPLER_SOVERSION poppler SOVERSION)
-    set_target_properties(poppler PROPERTIES SUFFIX "-${POPPLER_SOVERSION}${CMAKE_SHARED_LIBRARY_SUFFIX}")
-endif()
-target_link_libraries(poppler LINK_PRIVATE ${poppler_LIBS})
-if(CMAKE_USE_PTHREADS_INIT)
-   target_link_libraries(poppler LINK_PRIVATE Threads::Threads)
-endif()
-install(TARGETS poppler RUNTIME DESTINATION bin LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR} ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
-
 if(ENABLE_XPDF_HEADERS)
   install(FILES
     poppler/Annot.h
-- 
2.17.0

