--- a/pyproject.toml	2023-07-27 02:55:23.000000000 +0300
+++ b/pyproject.toml	2023-07-29 20:34:15.231740212 +0300
@@ -1,5 +1,5 @@
 [build-system]
-requires = ["setuptools", "setuptools-scm"]
+requires = ["setuptools", "setuptools-scm[toml]"]
 build-backend = "setuptools.build_meta"
 
 [project]
@@ -64,7 +64,6 @@
 
 [tool.setuptools.dynamic]
 readme = {file = ["README.md"], content-type = "text/markdown"}
-version = {attr = "flax.version.__version__"}
 
 [tool.setuptools.packages.find]
 include = ["flax*"]
@@ -72,6 +71,9 @@
 [tool.setuptools.package-data]
 flax = ["*py.typed"]
 
+[tool.setuptools_scm]
+write_to = "flax/version.py"
+
 [tool.yapf]
 based_on_style = "yapf"
 
@@ -151,4 +153,4 @@
 pyink-indentation = 2
 pyink-use-majority-quotes = true
 line-length = 80
-preview = true
\ No newline at end of file
+preview = true
