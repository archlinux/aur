diff --git a/src/modules/ffmpeg/producer/av_producer.cpp b/src/modules/ffmpeg/producer/av_producer.cpp
index e20eb6703..7d3d71045 100644
--- a/src/modules/ffmpeg/producer/av_producer.cpp
+++ b/src/modules/ffmpeg/producer/av_producer.cpp
@@ -104,7 +104,7 @@ struct Decoder
         FF(avcodec_parameters_to_context(ctx.get(), stream->codecpar));
 
         int numThreads = 1;
-        if (codec->capabilities & AV_CODEC_CAP_AUTO_THREADS) {
+        if (codec->capabilities & AV_CODEC_CAP_FRAME_THREADS) {
             numThreads = 0;
         } else if (codec->capabilities & AV_CODEC_CAP_SLICE_THREADS) {
             numThreads = std::min<int>(8, std::thread::hardware_concurrency() / 2);
