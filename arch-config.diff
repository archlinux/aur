diff -up src/xrdp-devel-git/instfiles/xrdp.service.in.orig src/xrdp-devel-git/instfiles/xrdp.service.in
--- src/xrdp-devel-git/instfiles/xrdp.service.in.orig	2023-08-11 16:12:02.489999999 -0600
+++ src/xrdp-devel-git/instfiles/xrdp.service.in	2023-08-11 16:14:10.769999999 -0600
@@ -6,9 +6,7 @@ After=network.target xrdp-sesman.service
 
 [Service]
 Type=exec
-EnvironmentFile=-@sysconfdir@/sysconfig/xrdp
-EnvironmentFile=-@sysconfdir@/default/xrdp
-ExecStart=@sbindir@/xrdp $XRDP_OPTIONS --nodaemon
+ExecStart=@sbindir@/xrdp --nodaemon
 SystemCallArchitectures=native
 SystemCallFilter=@basic-io @file-system @io-event @ipc @network-io @process @signal ioctl madvise sysinfo uname
 
diff -up src/xrdp-devel-git/instfiles/xrdp-sesman.service.in.orig src/xrdp-devel-git/instfiles/xrdp-sesman.service.in
--- src/xrdp-devel-git/instfiles/xrdp-sesman.service.in.orig	2023-08-11 16:12:02.499999999 -0600
+++ src/xrdp-devel-git/instfiles/xrdp-sesman.service.in	2023-08-11 16:15:00.739999999 -0600
@@ -7,9 +7,7 @@ BindsTo=xrdp.service
 
 [Service]
 Type=exec
-EnvironmentFile=-@sysconfdir@/sysconfig/xrdp
-EnvironmentFile=-@sysconfdir@/default/xrdp
-ExecStart=@sbindir@/xrdp-sesman $SESMAN_OPTIONS --nodaemon
+ExecStart=@sbindir@/xrdp-sesman --nodaemon
 ExecReload=kill -HUP $MAINPID
 
 [Install]
diff -up src/xrdp-devel-git/sesman/sesman.ini.in.orig src/xrdp-devel-git/sesman/sesman.ini.in
--- src/xrdp-devel-git/sesman/sesman.ini.in.orig	2023-08-11 16:12:02.509999999 -0600
+++ src/xrdp-devel-git/sesman/sesman.ini.in	2023-08-11 16:16:23.279999999 -0600
@@ -134,7 +134,7 @@ EnableSyslog=true
 ; CentOS 8              :  param=/usr/libexec/Xorg
 ; FreeBSD (from 2022Q4) :  param=/usr/local/libexec/Xorg
 ;
-param=Xorg
+param=/usr/lib/Xorg
 ; Leave the rest parameters as-is unless you understand what will happen.
 param=-config
 param=xrdp/xorg.conf
diff -up src/xrdp-devel-git/sesman/startwm.sh.orig src/xrdp-devel-git/sesman/startwm.sh
--- src/xrdp-devel-git/sesman/startwm.sh.orig	2023-08-11 16:12:01.719999999 -0600
+++ src/xrdp-devel-git/sesman/startwm.sh	2023-08-11 16:12:02.519999999 -0600
@@ -80,6 +80,21 @@ wm_start()
     export LANG LANGUAGE
   fi
 
+  # arch user
+  if [ -r ~/.xinitrc ]; then
+    pre_start
+    . ~/.xinitrc
+    post_start
+    exit 0
+  fi
+  # arch
+  if [ -r /etc/X11/xinit/xinitrc ]; then
+    pre_start
+    . /etc/X11/xinit/xinitrc
+    post_start
+    exit 0
+  fi
+
   # debian
   if [ -r /etc/X11/Xsession ]; then
     pre_start
