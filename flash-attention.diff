--- pyproject.toml.old	2023-06-21 06:40:12.926595278 +0000
+++ pyproject.toml	2023-06-21 06:45:23.050240508 +0000
@@ -1,3 +1,3 @@
 [build-system]
-requires = ["ninja", "packaging", "setuptools", "wheel"]
+requires = ["packaging", "setuptools", "wheel"]
 build-backend = "setuptools.build_meta"
--- setup.py.old	2023-06-20 23:03:56.492811870 +0000
+++ setup.py	2023-06-21 06:46:07.850190147 +0000
@@ -119,7 +119,6 @@
     cc_flag.append("-gencode")
     cc_flag.append("arch=compute_90,code=sm_90")
 
-subprocess.run(["git", "submodule", "update", "--init", "csrc/flash_attn/cutlass"])
 ext_modules.append(
     CUDAExtension(
         name="flash_attn_cuda",
@@ -157,7 +156,6 @@
         include_dirs=[
             Path(this_dir) / 'csrc' / 'flash_attn',
             Path(this_dir) / 'csrc' / 'flash_attn' / 'src',
-            Path(this_dir) / 'csrc' / 'flash_attn' / 'cutlass' / 'include',
         ],
     )
 )
@@ -196,6 +194,5 @@
         "torch",
         "einops",
         "packaging",
-        "ninja",
     ],
 )
