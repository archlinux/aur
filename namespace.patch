diff '--color=auto' -rupN libQuotient-0.8.0.orig/cmake/QuotientConfig.cmake.in libQuotient-0.8.0/cmake/QuotientConfig.cmake.in
--- libQuotient-0.8.0.orig/cmake/QuotientConfig.cmake.in	2023-07-05 12:23:12.511208577 +0930
+++ libQuotient-0.8.0/cmake/QuotientConfig.cmake.in	2023-07-05 12:54:04.695305929 +0930
@@ -17,6 +17,6 @@ include("${CMAKE_CURRENT_LIST_DIR}/@QUOT
 
 if (NOT QUOTIENT_FORCE_NAMESPACED_INCLUDES)
     get_target_property(_include_dir @QUOTIENT_LIB_NAME@ INTERFACE_INCLUDE_DIRECTORIES)
-    list(APPEND _include_dir "${_include_dir}/Quotient")
+    list(APPEND _include_dir "${_include_dir}/@QUOTIENT_LIB_NAME@")
     set_target_properties(@QUOTIENT_LIB_NAME@ PROPERTIES INTERFACE_INCLUDE_DIRECTORIES "${_include_dir}")
 endif()
diff '--color=auto' -rupN libQuotient-0.8.0.orig/CMakeLists.txt libQuotient-0.8.0/CMakeLists.txt
--- libQuotient-0.8.0.orig/CMakeLists.txt	2023-07-05 12:23:12.501208379 +0930
+++ libQuotient-0.8.0/CMakeLists.txt	2023-07-05 12:40:00.568400131 +0930
@@ -52,10 +52,12 @@ else()
 endif()
 
 option(BUILD_WITH_QT6 "Build Quotient with Qt 6 (EXPERIMENTAL)" OFF)
+set(QUOTIENT_LIB_NAME ${PROJECT_NAME})
 if (BUILD_WITH_QT6)
-    set(QUOTIENT_LIB_NAME ${PROJECT_NAME}Qt6)
-else()
-    set(QUOTIENT_LIB_NAME ${PROJECT_NAME})
+    set(QUOTIENT_LIB_NAME ${QUOTIENT_LIB_NAME}Qt6)
+endif()
+if (${PROJECT_NAME}_ENABLE_E2EE)
+    set(QUOTIENT_LIB_NAME ${QUOTIENT_LIB_NAME}E2EE)
 endif()
 
 if (WIN32)
@@ -355,7 +357,7 @@ install(TARGETS ${QUOTIENT_LIB_NAME} EXP
         LIBRARY RUNTIME
         ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
 )
-install(DIRECTORY Quotient/ DESTINATION ${${PROJECT_NAME}_INSTALL_INCLUDEDIR}/Quotient
+install(DIRECTORY Quotient/ DESTINATION ${${PROJECT_NAME}_INSTALL_INCLUDEDIR}/${QUOTIENT_LIB_NAME}
         FILES_MATCHING PATTERN "*.h")
 
 include(CMakePackageConfigHelpers)
@@ -387,7 +389,7 @@ install(FILES
     "${CMAKE_CURRENT_BINARY_DIR}/${QUOTIENT_LIB_NAME}/${QUOTIENT_LIB_NAME}ConfigVersion.cmake"
     DESTINATION ${CMakeFilesLocation}
 )
-install(EXPORT_ANDROID_MK ${QUOTIENT_LIB_NAME}Targets DESTINATION ${CMAKE_INSTALL_DATADIR}/ndk-modules)
+#install(EXPORT_ANDROID_MK ${QUOTIENT_LIB_NAME}Targets DESTINATION ${CMAKE_INSTALL_DATADIR}/ndk-modules)
 
 if (WIN32)
     install(FILES mime/packages/freedesktop.org.xml DESTINATION mime/packages)
diff '--color=auto' -rupN libQuotient-0.8.0.orig/Quotient.pc.in libQuotient-0.8.0/Quotient.pc.in
--- libQuotient-0.8.0.orig/Quotient.pc.in	2023-07-05 12:23:12.501208379 +0930
+++ libQuotient-0.8.0/Quotient.pc.in	2023-07-05 12:44:01.419228176 +0930
@@ -3,8 +3,8 @@ exec_prefix=${prefix}
 includedir=${prefix}/@CMAKE_INSTALL_INCLUDEDIR@
 libdir=${prefix}/@CMAKE_INSTALL_LIBDIR@
 
-Name: Quotient
-Description: A Qt5 library to write cross-platfrom clients for Matrix
+Name: @QUOTIENT_LIB_NAME@
+Description: A @Qt@ library to write cross-platfrom clients for Matrix
 Version: @API_VERSION@
 Cflags: -I${includedir}
-Libs: -L${libdir} -lQuotient
+Libs: -L${libdir} -l@QUOTIENT_LIB_NAME@
