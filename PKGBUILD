# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: moyiz <8603313+moyiz@users.noreply.github.com>
# Contributor: moyiz <8603313+moyiz@users.noreply.github.com>

pkgname='na-bin'
pkgver=0.0.9
pkgrel=1
pkgdesc='CLI tool to effortlessly manage context aware nested shortcuts for shell commands.'
url='https://github.com/moyiz/na'
arch=('aarch64' 'i686' 'x86_64')
license=('BSD-3-Clause')
provides=('na')
conflicts=('na')
depends=('glibc')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/moyiz/na/releases/download/v0.0.9/na_linux_arm64.tar.gz")
sha256sums_aarch64=('e2a8d7c7da2b7fa869c3452ade17c7e029e73a2747f87977aebfbd3da2bf1397')

source_i686=("${pkgname}_${pkgver}_i686.tar.gz::https://github.com/moyiz/na/releases/download/v0.0.9/na_linux_i386.tar.gz")
sha256sums_i686=('18c33c98f763bf15f48c664e1fcb7ae9776c24420eb3fe551de03f7fa948539a')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/moyiz/na/releases/download/v0.0.9/na_linux_x86_64.tar.gz")
sha256sums_x86_64=('b5a70c42c885c9ce85753f153e122f48d5e104f7da02d35a3c591cf3c99cf3e3')

package() {
  cd ${srcdir}
  install -Dm755 na ${pkgdir}/usr/bin/na
  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/$pkgname/LICENSE

  declare bash_comp=${pkgdir}/usr/share/bash-completion/completions/
  declare zsh_comp=${pkgdir}/usr/share/zsh/site-functions/
  declare fish_comp=${pkgdir}/usr/share/fish/vendor_completions.d

  mkdir -p ${bash_comp} ${zsh_comp} ${fish_comp}

  ./na completion bash > na.bash
  ./na completion zsh > na.zsh
  ./na completion fish > na.fish

  install -Dm644 ./na.bash ${bash_comp}/na
  install -Dm644 ./na.zsh ${zsh_comp}/_na
  install -Dm644 ./na.fish ${fish_comp}/na.fish

  ./na docs -o ./man
  mkdir -p ${pkgdir}/usr/share/man/man1/
  install -Dm644 ./man/* ${pkgdir}/usr/share/man/man1/
  install -d ${pkgdir}/usr/share
}
