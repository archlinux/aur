# Maintainer: generated by script at https://github.com/zasdfgbnm/aurcran

_cranname=JuniperKernel
_cranver=1.2.3.0
pkgname=r-cran-juniperkernel
pkgver=${_cranver}
pkgrel=1
pkgdesc="R kernel for Jupyter"
url="http://cran.r-project.org/web/packages/${_cranname}/index.html"
arch=('i686' 'x86_64')
license=('GPL2')
depends=('jupyter' 'r>=3.0.0' 'r-jsonlite' 'r-cran-repr' 'r-cran-rcpp>=0.11.0' 'r-cran-gdtools>=0.1.6' 'r-pbdzmq>=0.3.2' 'r-cran-data.table')
source=("http://cran.r-project.org/src/contrib/${_cranname}_${_cranver}.tar.gz")
sha256sums=('cd53d2e75984eb01d7f8296e58ba6faaa13b2e9d54c9745dba767b25a5d6249f')

package() {
    mkdir -p ${pkgdir}/usr/lib/R/library
    cd ${srcdir}
    R CMD INSTALL ${_cranname} -l ${pkgdir}/usr/lib/R/library
    
    # .libPaths() is to hack the fact that we need to use some function of the package before it's installed
    Rscript -e ".libPaths(c( .libPaths(), '$pkgdir/usr/lib/R/library')); library(JuniperKernel); installJuniper(prefix='$pkgdir/usr/')"
}
