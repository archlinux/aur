# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=57.0b14
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('4143dd4c8f1498c1068340a18bb53d451861777d8b193c4a00c0f2a82e3b3dc9'
            'd7c883df3e0b089b6a88cbe968545810ee44b46b899c51a63beca2002ae4278e'
            '862a491353b1170cdfc03056d16d89ba933b05a16494d697640d37809dd7b611'
            'd9b4822ea9cf91376b07c20d3f3a8ea5dc3efd845ee360a094fa6aecd8e1569b'
            '28a31ba5ac4ca2614a40ee1778ddd52f8149f5af0fc1232f3364a863397a5e2a'
            'e330b60a178a78f758c07b49d07c7d64dbe6052ca9f57494fb6b4133cc4493ea'
            '41a576be5f61c904e16eb85ba7ed3b43cb303aa8d92a8c4db501d7031b51dcbc'
            '040a97cacb6f862aa083477daeb03066acefb80d2c39643c429db7fc86b35af0'
            'f2e088e0b957e21d20058def0968b3f612e92fc6748e12804fb3cad434c2744a'
            'd0597bfba7a74826ff39b29a6afcf4cf501bd45f1dea9b8994a3e2ab55d7da29'
            'c96414b7a3b435496b579716ac424183c391641a7fed52a5ee5e5e5cd26dd658'
            '29989f17835e1cbde31eec06250a686a0afad364e19990f5c247b8854918d19e'
            '7729e6ac4e5a593f06e551dc8df1bcf4e1a4ca3c6ce075b0f7a876d2155e75d5'
            '72cf63ab33280e455a23953b6f44fd39e05a2a0b0c1b7ec411a58479f5891f5d'
            '37b1da6176fbe95a601990779a5e12a62e21be5581fba8b89b4c7f291de1bc93'
            'e70cf6f9088429381e7f699082830b4fcf1d9f90cda9f7fc6cc7d252a13865f0'
            'be8d2dd58bbac5cb22fd580a2200aa55e06d05e5744fd10bcd9af1f1b99f9f16'
            '5d6d82bba701b8e0a8a13d8f8cd935c5e65ea27a2065d13850f21a87818c5792'
            'f5a3151789e3cf6a11d0813617111b033aa22dc94f37f4614a5c641910e2e0b9'
            '5533762bcafc1d9eb66859cc672026f71928f1a39a6edc4dc5d953bfb8503dc1'
            'd130b349798aaecf77256d1b0e6defec7a4f9e4c0fca328ed6a927ec67a82371'
            'be6683eca735c7436f55e46e7fa0b127899ade9bed2f8d1e55618ad84377b761'
            '629fd830ad4a5261391aa0a380f4c9e1dc63d2dfb539d9ae3a603b7650573eb5'
            '712a6476d7aec9001fad6abbf1b762293222b9eb51f184219118dfb0a3499d52'
            'cbecb22bee240a6166f5accb68e6d3bda10e73e174da18d2e215a8b0f141fefc'
            '746599aa83e802c33f70702207feb86405eaef03ec9e0e108d218dbdb0be6df3'
            '2b52e89b8969db8e890e578060af203ebf74ac8da4af3e2729aa33f3ccf9d885'
            'cab059c1781b8eb87e571531aba3309c7f7c6189158634ca58476e6fbf67b78a'
            '5f04468bfc960546a7aadc4eca4542a38f7c2d17c0b2492212e8f05f02f9b836'
            'e4bf4e11f1b70d369f9560b011682ac53049578a94137288aed8e19ef1508227'
            '0425be3c9b63f2ce4fd15570b7fd5fd18fa86d8da0199e8f6fbb44fffa1aad02'
            '77a79022e5780f4561dc1bf214b823bdffddde4de1b2a3077db5a842c81466e1'
            'b641f8af4c189ed9e0621e9b7b75d2cbb57d43723bc7f8748e5f0cb80d245b46'
            '4a3542af71583e4926bd723715c1942451ab177566ae0a679679dbad907004a4'
            '27d7b1bab9c19b9a4bf17af4cf6ce400af111370c30645cb1325b1ae3288d6f0'
            'c4f2e43e338555d47c22c897cfa02c0ce47082feab17d050e3e84a6e1186b028'
            'aafd5de5e8ce591d6f23fa1bd2fd6025056b939a16cf4f520d20f86e3d043ab4'
            'f6bde4118b14b0336c31e6baa670ddfb6ac27615fc69a97f64932c9bb1b5cec8'
            'bc69b36cd604e3cd7d0ac2392f31d17c4fcb1220eeb06fc5e46fceee0974f4fa'
            '13aa972d3efc44a94144954af13dcef51cc26503d907847f3dcfb5dc18080b64'
            '505711d1fb461a3990ca819f31ed56c5d545f7f663f4cd1deb457defafee452b'
            '4bb2134cdc37649e661f0b6e21ef6b89c4eb12a91458b03a00e416acdceca7eb'
            '64d6bd79b494d60b93cf9ac466a50f6a276e7eeea50535e550686073f60ee948'
            '00d946df46cf846260e72f45288dc368f622bcc64a483acf065c5442ff0e21cd'
            '94bf6a497b1d8a98b860a4e3f6d2a1a0acf6223e723fb04982aaf8972de06d50'
            '7e9c5f4ebd6ba1e43c098b941aaebb0c0f42fc7cbc4f104381227350f9763a5c'
            '7e25177e892aa15e0ae6c621a3e714aaa5b85f187f87469574d68d7aa83056f8'
            '284b1471552e9aba9f2af967b1fca1b66eebc0fd193cd785c11ed8fe8e79dd5a'
            '6d2740ccf0d9807b597aa8e186817024428df88bf3042af31f7d6f30895ac93b'
            '64c19d0b7a5d2cde4b8f51775f9eba663620802bfea9362d756759dacc0a8dd2'
            '8378b1cd9524b24a38748b1b1364b3693cf0432f9cc3e139052fac07c1d5f7a0'
            '827dd9b541ef105a2a18c1dc1663d347de9592c3fc25c504196b668e92a635d5'
            '29aa3e594504ad269429232d69ba03bd3e34de1dbe05879b97d8a555be3aabd8'
            'e43fc5cd321f71307cddd4c8862957bf4353ec4299acbf407f784b6030dcf884'
            '5246f724bf7d6a2b043028f56cfb08f7aa4f8e8f0ccdac819c4c8aa041b805f2'
            'a0575d21a53347d65b0e03aff31f2df1dbc64b1013885c8e0e6fb460264d4d19'
            '98969006fa1da02452a57ab2904a359114dc5ee36e79fd8e76a90ebdf6c511dc'
            '96280b88461e4c30f118cc1c85962ae3ace203d6d5d3dbf84cc97854c133b3c1'
            '2d6251cf9fb4b3a435fca5195031788608834bc8c0b1dff8f39cb86f4a892fb2'
            '7e22d67417e8bffcee9f78fba2fa8e8388b1cae7a3bf52d3edb4bdca983d1c9a'
            '6219e7c025fdf3d55e78f7919892490d980f79fe83607fcc19eb41fb7ca008d9'
            'c2b7f863c43c65f693e54c3640e7e884bb9bc7afbd19dddc7329190e78820fe3'
            '5cde4795de8ac98c41c73ae77e8d689f5ecad381f3bad697c2a9ab0ee9b6c7c3'
            '6ee7db03c2aa3d8c644e06d97ace9892b8962a67b6bdcc803d5259c7266fb81c'
            'd49ee8cb99e372e87e76f1fbe5cf88a8cd97cfef18df5c17b2c84d6e012bb371'
            '8b9cbb4bc8e7dec11a30187acf7f74568249324afd7cc9587e8f3e489ccb1088'
            'eab3c5ff9b2f766f9d060f134db878a3f90e60f0f5af93cce7d20053e02dcf98'
            '8fe3661b1c670aedc572413265e43b2b778ab1169ff7d909f72b3526e8bee9b3'
            '6bebf53336be5931ecbb974984f1ecf975fa839932ee2154545d36818fbc6ead'
            'cf835b40936e1f65915af8affb889264a3246c457a4f2406976356af6e82497f'
            'b53b98ed699ecf0dbb5172116bbbf68d611d818833d5cfc0b67e98b4a341cad1'
            '3c53b9b2932e1a9a55914e6da1ade67fbe437178c78adc8b1e83d2afe19eee70'
            '2c79edce22017cd09b45039011a7bd427f9b632f152403fe2c362474bc6987ae'
            'bcc15d172bcc6594f12a95d5e0ad210ca03d1947a1c9250e5ac8d01fb9562349'
            '1c955b1a7652c54d8de0acce6901b7537fbb35744cea508e1c9724413c4735db'
            '1f54012df54b2b9f0c99f1a33bed7b20cd987c1f5ada0f1ae9d8b3eaf453fa92'
            '3f8b4c24e8c6bce98ef19062fdb0872709c8686d2b87f2d6f9cb385e61382ce9'
            '94385e7462a2baf65244192835238ad1ca8c0951b70d44ce696e7536687b99c9'
            '5030989bf92542d66a1b77bdccf93425b06e8793220c9a1f4515925779106598'
            '17cc487e111ca8b540bd52c19f94921045d2eb9f3c79e7e61a425862d61fb00c'
            '6fa42e977fe73ab7f5ba40dd365e0c7f27b05aeb4653994bfaa5ef589675fca9'
            'e9c498badc80686e129fde96a219136032591c5e684e9c56bd16a8ab42c2a4a7'
            'c4bcb077337d06aa384db2b856b0bb60aed54ec990ed9f389c9bdecd296538af'
            '598d4ae8a3b58561fbb558824d098e6989de371796e48a59486cd15b823c09d0'
            '6733c475f1b07cc2d8a420b1c5cdf185ab4c43270957ec48b9afab208ab205d5'
            '77b27d2a0cbb23eb07de9b0350dd1d391598e03eedb41c85cbe8fc91e7c2f6ba'
            '6e28fca8a0a21a0462d40580edde49acffdce5c6019c283890d3b98f9713ab20'
            '6fe0e5675be4d50d750e99b514027b3e1e9875a489fd8fb9b2d9764311f03b04'
            'e0ffffea97fbd62db2754fb5ab91218ab68f1695e1c4778dd3c481d6f8ea7db0'
            '9082bc671556d950ad11ac96482c03f658455fe3f985d0e985357f3e342c0461'
            'd29df71118ca2688de28641b953d239d0095eac62981f71c9f4dddbbae1e8db6'
            'fc747e21dd3e555c5470622abf3d407bad94d40da360f5a4db12a9750f1f651d'
            '095b4fdff9ddbb4afcec3bac1f56858b919303bd6e9d7815dc120a012830adf6'
            '5da62d2fc2e78d0aed66083d270d05df53fb6e292679dea58e2302308f5e7abd')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
