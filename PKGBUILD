# Maintainer: Luca Fulgenzi <luca.fugenzi@justanother.cloud>
#
# This PKGBUILD was generated by `cargo aur`: https://crates.io/crates/cargo-aur

pkgname=domust-bin
pkgver=0.1.3
pkgrel=3
pkgdesc="Domust is a home automation system that allows you to control your home form your computer."
url="https://github.com/lucafulgenzi/domust"
license=("AGPL-3.0")
depends=()
arch=("x86_64")
provides=("domust")
conflicts=("domust")
source=("https://github.com/lucafulgenzi/domust/releases/download/${pkgver}/domust-x86_64-unknown-linux-gnu.tar.gz")
sha256sums=('6565d579154bc04413d49d6b415c263ebb4c02321936f4cb42e7395aec1a6883')

package() {
    install -Dm755 domust -t "$pkgdir/usr/bin"
    install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
    install -Dm644 README.md "$pkgdir/usr/share/doc/${pkgname}/README.md"
    install -Dm644 domust-completion "$pkgdir/usr/share/bash-completion/completions/domust"

    mkdir -p $pkgdir/$HOME/.config/domust
    [[ -f $HOME/.config/domust/config.yaml ]] || touch $HOME/.config/domust/config.yaml
}
