# Maintainer: Noah Jelen <noahtjelen@gmail.com>
# Generated by cargo on January 17, 2024 at 02:59:59
pkgname=music-lounge
pkgver=0.7.2
pkgrel=1
pkgdesc="Yet another music player"
arch=('i686' 'x86_64')
url="https://gitlab.com/aercloud-systems/music-lounge"
license=('GPL3')
depends=('alsa-lib' 'gcc-libs' 'glibc' 'dbus' 'systemd-libs' 'libcap' 'libgcrypt' 'lz4' 'xz' 'zstd' 'libgpg-error')
makedepends=('cargo' 'gzip')
source=("https://gitlab.com/aercloud-systems/music-lounge/-/archive/$pkgver/music-lounge-$pkgver.zip")
md5sums=('SKIP')
build() {
cd "music-lounge-$pkgver"
cargo build --release
cd target/release
ln -sf mlounge-visual mlounge-matrix
ln -sf mlounge-visual mlounge-wave
ln -sf mlounge-visual mlounge-info
}
package() {
cd "music-lounge-$pkgver"
mkdir -p "$pkgdir/usr/share/mlounge/font"
install -Dt "$pkgdir/usr/share/man/man1" man/mlounge.1
install -Dt "$pkgdir/usr/share/man/man1" man/mlounged.1
install -Dt "$pkgdir/usr/share/man/man1" man/mlounge-visual.1
install -Dt "$pkgdir/usr/bin" -m755 target/release/mlounge
install -Dt "$pkgdir/usr/bin" -m755 target/release/mlounged
install -Dt "$pkgdir/usr/bin" -m755 target/release/mlounge-visual
install -Dt "$pkgdir/usr/bin" -m755 target/release/mlounge-info
install -Dt "$pkgdir/usr/bin" -m755 target/release/mlounge-matrix
install -Dt "$pkgdir/usr/bin" -m755 target/release/mlounge-wave
install -Dt "$pkgdir/usr/share/applications/" mlounge.desktop
install -Dt "$pkgdir/usr/share/mlounge/" icon.png
install -Dt "$pkgdir/usr/share/mlounge/" matrix.kwinrule
install -Dt "$pkgdir/usr/share/mlounge/" wave.kwinrule
install -Dt "$pkgdir/usr/share/mlounge/" info.kwinrule
install -Dt "$pkgdir/usr/lib/systemd/user" mlounged.service
install -Dt "$pkgdir/usr/share/mlounge/font" font/Monocraft.otf
install -Dt "$pkgdir/usr/share/mlounge/font" "font/Monocraft License.txt"
}