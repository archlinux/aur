# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: Budiman Jojo <budimanjojo at gmail dot com>

pkgname='talhelper-bin'
pkgver=2.3.5
pkgrel=1
pkgdesc='A tool to help creating Talos cluster in GitOps way.'
url='https://github.com/budimanjojo/talhelper'
arch=('aarch64' 'x86_64')
license=('BSD-3-Clause')
provides=('talhelper')
conflicts=('talhelper')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/budimanjojo/talhelper/releases/download/v2.3.5/talhelper_linux_arm64.tar.gz")
sha256sums_aarch64=('f1b0129e89a94eadca507d345be3490913069bb789ee69d6d9ef2bdf4b2296a5')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/budimanjojo/talhelper/releases/download/v2.3.5/talhelper_linux_amd64.tar.gz")
sha256sums_x86_64=('48566222b0495b1a5b6a1fc9468d6e7b9c75f048e63a19d65435bbe4b4833a31')

package() {
  # bin
  install -Dm755 "./talhelper" "${pkgdir}/usr/bin/talhelper"
  # license
  install -Dm644 "./LICENSE" "${pkgdir}/usr/share/licenses/talhelper/LICENSE"
  # completions
  "${pkgdir}/usr/bin/talhelper" completion bash | install -Dm644 /dev/stdin "${pkgdir}/usr/share/bash-completion/completions/talhelper"
  "${pkgdir}/usr/bin/talhelper" completion fish | install -Dm644 /dev/stdin "${pkgdir}/usr/share/fish/completions/talhelper.fish"
  "${pkgdir}/usr/bin/talhelper" completion zsh | install -Dm644 /dev/stdin "${pkgdir}/usr/share/zsh/site-functions/_talhelper"
}
