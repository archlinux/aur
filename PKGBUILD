# Maintainer: Kars Wang <jaklsy AT gmail.com>

pkgname='perl-perl-critic'
pkgver=1.125
pkgrel=1
pkgdesc='Critique Perl source code for best-practices.'
_dist='Perl-Critic'
arch=('any')
url="https://metacpan.org/release/$_dist"
license=('PerlArtistic')
depends=('perl' 'perl-version>=0.77' 'perl-pod-spell>=1' 'perl-ppix-utilities>=1.001' 'perl-scalar-list-utils>=0' 'perl-io-string>=0' 'perl-exception-class>=1.23' 'perl-pod-parser>=0' 'perl-pod-usage>=0' 'perl-ppi>=1.220' 'perl-getopt-long>=0' 'perl-module-pluggable>=3.1' 'perl-readonly>=2' 'perl-file-temp>=0' 'perl-file-which>=0' 'perl-exporter>=5.63' 'perl-string-format>=1.13' 'perl-pathtools>=0' 'perl-config-tiny>=2' 'perl-term-ansicolor>=2.02' 'perl-carp>=0' 'perl-text-parsewords>=3' 'perl-base>=0' 'perl-list-moreutils>=0.19' 'perl-file-homedir>=0' 'perl-perl-tidy>=0' 'perl-test-simple>=0.92' 'perl-ppix-regexp>=0.027' 'perl-b-keywords>=1.05' 'perl-email-address>=1.889' 'perl-task-weaken>=0' 'perl-file-path>=0')
checkdepends=()
makedepends=('perl-test-deep>=0' 'perl-lib>=0' 'perl-test-simple>=0')
provides=('perl-perl-critic-annotation=1.125' 'perl-perl-critic-command=1.125' 'perl-perl-critic-config=1.125' 'perl-perl-critic-document=1.125' 'perl-perl-critic-exception=1.125' 'perl-perl-critic-exception-aggregateconfiguration=1.125' 'perl-perl-critic-exception-configuration=1.125' 'perl-perl-critic-exception-configuration-generic=1.125' 'perl-perl-critic-exception-configuration-nonexistentpolicy=1.125' 'perl-perl-critic-exception-configuration-option=1.125' 'perl-perl-critic-exception-configuration-option-global=1.125' 'perl-perl-critic-exception-configuration-option-global-extraparameter=1.125' 'perl-perl-critic-exception-configuration-option-global-parametervalue=1.125' 'perl-perl-critic-exception-configuration-option-policy=1.125' 'perl-perl-critic-exception-configuration-option-policy-extraparameter=1.125' 'perl-perl-critic-exception-configuration-option-policy-parametervalue=1.125' 'perl-perl-critic-exception-fatal=1.125' 'perl-perl-critic-exception-fatal-generic=1.125' 'perl-perl-critic-exception-fatal-internal=1.125' 'perl-perl-critic-exception-fatal-policydefinition=1.125' 'perl-perl-critic-exception-io=1.125' 'perl-perl-critic-exception-parse=1.125' 'perl-perl-critic-optionsprocessor=1.125' 'perl-perl-critic-policy=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitbooleangrep=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitcomplexmappings=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitlvaluesubstr=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitreversesortblock=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitsleepviaselect=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitstringyeval=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitstringysplit=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibituniversalcan=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibituniversalisa=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibituselesstopic=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitvoidgrep=1.125' 'perl-perl-critic-policy-builtinfunctions-prohibitvoidmap=1.125' 'perl-perl-critic-policy-builtinfunctions-requireblockgrep=1.125' 'perl-perl-critic-policy-builtinfunctions-requireblockmap=1.125' 'perl-perl-critic-policy-builtinfunctions-requireglobfunction=1.125' 'perl-perl-critic-policy-builtinfunctions-requiresimplesortblock=1.125' 'perl-perl-critic-policy-classhierarchies-prohibitautoloading=1.125' 'perl-perl-critic-policy-classhierarchies-prohibitexplicitisa=1.125' 'perl-perl-critic-policy-classhierarchies-prohibitoneargbless=1.125' 'perl-perl-critic-policy-codelayout-prohibithardtabs=1.125' 'perl-perl-critic-policy-codelayout-prohibitparenswithbuiltins=1.125' 'perl-perl-critic-policy-codelayout-prohibitquotedwordlists=1.125' 'perl-perl-critic-policy-codelayout-prohibittrailingwhitespace=1.125' 'perl-perl-critic-policy-codelayout-requireconsistentnewlines=1.125' 'perl-perl-critic-policy-codelayout-requiretidycode=1.125' 'perl-perl-critic-policy-codelayout-requiretrailingcommas=1.125' 'perl-perl-critic-policy-controlstructures-prohibitcstyleforloops=1.125' 'perl-perl-critic-policy-controlstructures-prohibitcascadingifelse=1.125' 'perl-perl-critic-policy-controlstructures-prohibitdeepnests=1.125' 'perl-perl-critic-policy-controlstructures-prohibitlabelswithspecialblocknames=1.125' 'perl-perl-critic-policy-controlstructures-prohibitmutatinglistfunctions=1.125' 'perl-perl-critic-policy-controlstructures-prohibitnegativeexpressionsinunlessanduntilconditions=1.125' 'perl-perl-critic-policy-controlstructures-prohibitpostfixcontrols=1.125' 'perl-perl-critic-policy-controlstructures-prohibitunlessblocks=1.125' 'perl-perl-critic-policy-controlstructures-prohibitunreachablecode=1.125' 'perl-perl-critic-policy-controlstructures-prohibituntilblocks=1.125' 'perl-perl-critic-policy-documentation-podspelling=1.125' 'perl-perl-critic-policy-documentation-requirepackagematchespodname=1.125' 'perl-perl-critic-policy-documentation-requirepodatend=1.125' 'perl-perl-critic-policy-documentation-requirepodlinksincludetext=1.125' 'perl-perl-critic-policy-documentation-requirepodsections=1.125' 'perl-perl-critic-policy-errorhandling-requirecarping=1.125' 'perl-perl-critic-policy-errorhandling-requirecheckingreturnvalueofeval=1.125' 'perl-perl-critic-policy-inputoutput-prohibitbacktickoperators=1.125' 'perl-perl-critic-policy-inputoutput-prohibitbarewordfilehandles=1.125' 'perl-perl-critic-policy-inputoutput-prohibitexplicitstdin=1.125' 'perl-perl-critic-policy-inputoutput-prohibitinteractivetest=1.125' 'perl-perl-critic-policy-inputoutput-prohibitjoinedreadline=1.125' 'perl-perl-critic-policy-inputoutput-prohibitoneargselect=1.125' 'perl-perl-critic-policy-inputoutput-prohibitreadlineinforloop=1.125' 'perl-perl-critic-policy-inputoutput-prohibittwoargopen=1.125' 'perl-perl-critic-policy-inputoutput-requirebracedfilehandlewithprint=1.125' 'perl-perl-critic-policy-inputoutput-requirebriefopen=1.125' 'perl-perl-critic-policy-inputoutput-requirecheckedclose=1.125' 'perl-perl-critic-policy-inputoutput-requirecheckedopen=1.125' 'perl-perl-critic-policy-inputoutput-requirecheckedsyscalls=1.125' 'perl-perl-critic-policy-inputoutput-requireencodingwithutf8layer=1.125' 'perl-perl-critic-policy-miscellanea-prohibitformats=1.125' 'perl-perl-critic-policy-miscellanea-prohibitties=1.125' 'perl-perl-critic-policy-miscellanea-prohibitunrestrictednocritic=1.125' 'perl-perl-critic-policy-miscellanea-prohibituselessnocritic=1.125' 'perl-perl-critic-policy-modules-prohibitautomaticexportation=1.125' 'perl-perl-critic-policy-modules-prohibitconditionalusestatements=1.125' 'perl-perl-critic-policy-modules-prohibitevilmodules=1.125' 'perl-perl-critic-policy-modules-prohibitexcessmaincomplexity=1.125' 'perl-perl-critic-policy-modules-prohibitmultiplepackages=1.125' 'perl-perl-critic-policy-modules-requirebarewordincludes=1.125' 'perl-perl-critic-policy-modules-requireendwithone=1.125' 'perl-perl-critic-policy-modules-requireexplicitpackage=1.125' 'perl-perl-critic-policy-modules-requirefilenamematchespackage=1.125' 'perl-perl-critic-policy-modules-requirenomatchvarswithuseenglish=1.125' 'perl-perl-critic-policy-modules-requireversionvar=1.125' 'perl-perl-critic-policy-namingconventions-capitalization=1.125' 'perl-perl-critic-policy-namingconventions-prohibitambiguousnames=1.125' 'perl-perl-critic-policy-objects-prohibitindirectsyntax=1.125' 'perl-perl-critic-policy-references-prohibitdoublesigils=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitcapturewithouttest=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitcomplexregexes=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitenumeratedclasses=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitescapedmetacharacters=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitfixedstringmatches=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitsinglecharalternation=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitunusedcapture=1.125' 'perl-perl-critic-policy-regularexpressions-prohibitunusualdelimiters=1.125' 'perl-perl-critic-policy-regularexpressions-prohibituselesstopic=1.125' 'perl-perl-critic-policy-regularexpressions-requirebracesformultiline=1.125' 'perl-perl-critic-policy-regularexpressions-requiredotmatchanything=1.125' 'perl-perl-critic-policy-regularexpressions-requireextendedformatting=1.125' 'perl-perl-critic-policy-regularexpressions-requirelineboundarymatching=1.125' 'perl-perl-critic-policy-subroutines-prohibitampersandsigils=1.125' 'perl-perl-critic-policy-subroutines-prohibitbuiltinhomonyms=1.125' 'perl-perl-critic-policy-subroutines-prohibitexcesscomplexity=1.125' 'perl-perl-critic-policy-subroutines-prohibitexplicitreturnundef=1.125' 'perl-perl-critic-policy-subroutines-prohibitmanyargs=1.125' 'perl-perl-critic-policy-subroutines-prohibitnestedsubs=1.125' 'perl-perl-critic-policy-subroutines-prohibitreturnsort=1.125' 'perl-perl-critic-policy-subroutines-prohibitsubroutineprototypes=1.125' 'perl-perl-critic-policy-subroutines-prohibitunusedprivatesubroutines=1.125' 'perl-perl-critic-policy-subroutines-protectprivatesubs=1.125' 'perl-perl-critic-policy-subroutines-requireargunpacking=1.125' 'perl-perl-critic-policy-subroutines-requirefinalreturn=1.125' 'perl-perl-critic-policy-testinganddebugging-prohibitnostrict=1.125' 'perl-perl-critic-policy-testinganddebugging-prohibitnowarnings=1.125' 'perl-perl-critic-policy-testinganddebugging-prohibitprolongedstrictureoverride=1.125' 'perl-perl-critic-policy-testinganddebugging-requiretestlabels=1.125' 'perl-perl-critic-policy-testinganddebugging-requireusestrict=1.125' 'perl-perl-critic-policy-testinganddebugging-requireusewarnings=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitcommaseparatedstatements=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitcomplexversion=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitconstantpragma=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitemptyquotes=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitescapedcharacters=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitimplicitnewlines=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitinterpolationofliterals=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitleadingzeros=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitlongchainsofmethodcalls=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitmagicnumbers=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitmismatchedoperators=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitmixedbooleanoperators=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitnoisyquotes=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitquotesasquotelikeoperatordelimiters=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitspecialliteralheredocterminator=1.125' 'perl-perl-critic-policy-valuesandexpressions-prohibitversionstrings=1.125' 'perl-perl-critic-policy-valuesandexpressions-requireconstantversion=1.125' 'perl-perl-critic-policy-valuesandexpressions-requireinterpolationofmetachars=1.125' 'perl-perl-critic-policy-valuesandexpressions-requirenumberseparators=1.125' 'perl-perl-critic-policy-valuesandexpressions-requirequotedheredocterminator=1.125' 'perl-perl-critic-policy-valuesandexpressions-requireuppercaseheredocterminator=1.125' 'perl-perl-critic-policy-variables-prohibitaugmentedassignmentindeclaration=1.125' 'perl-perl-critic-policy-variables-prohibitconditionaldeclarations=1.125' 'perl-perl-critic-policy-variables-prohibitevilvariables=1.125' 'perl-perl-critic-policy-variables-prohibitlocalvars=1.125' 'perl-perl-critic-policy-variables-prohibitmatchvars=1.125' 'perl-perl-critic-policy-variables-prohibitpackagevars=1.125' 'perl-perl-critic-policy-variables-prohibitperl4packagenames=1.125' 'perl-perl-critic-policy-variables-prohibitpunctuationvars=1.125' 'perl-perl-critic-policy-variables-prohibitreusednames=1.125' 'perl-perl-critic-policy-variables-prohibitunusedvariables=1.125' 'perl-perl-critic-policy-variables-protectprivatevars=1.125' 'perl-perl-critic-policy-variables-requireinitializationforlocalvars=1.125' 'perl-perl-critic-policy-variables-requirelexicalloopiterators=1.125' 'perl-perl-critic-policy-variables-requirelocalizedpunctuationvars=1.125' 'perl-perl-critic-policy-variables-requirenegativeindices=1.125' 'perl-perl-critic-policyconfig=1.125' 'perl-perl-critic-policyfactory=1.125' 'perl-perl-critic-policylisting=1.125' 'perl-perl-critic-policyparameter=1.125' 'perl-perl-critic-policyparameter-behavior=1.125' 'perl-perl-critic-policyparameter-behavior-boolean=1.125' 'perl-perl-critic-policyparameter-behavior-enumeration=1.125' 'perl-perl-critic-policyparameter-behavior-integer=1.125' 'perl-perl-critic-policyparameter-behavior-string=1.125' 'perl-perl-critic-policyparameter-behavior-stringlist=1.125' 'perl-perl-critic-profileprototype=1.125' 'perl-perl-critic-statistics=1.125' 'perl-perl-critic-testutils=1.125' 'perl-perl-critic-theme=1.125' 'perl-perl-critic-themelisting=1.125' 'perl-perl-critic-userprofile=1.125' 'perl-perl-critic-utils=1.125' 'perl-perl-critic-utils-constants=1.125' 'perl-perl-critic-utils-dataconversion=1.125' 'perl-perl-critic-utils-mccabe=1.125' 'perl-perl-critic-utils-pod=1.125' 'perl-perl-critic-utils-pod-parseinteriorsequence=1.125' 'perl-perl-critic-utils-ppi=1.125' 'perl-perl-critic-utils-perl=1.125' 'perl-perl-critic-violation=1.125' 'perl-test-perl-critic-policy=1.125')
options=('!emptydirs' 'purge')
source=("http://search.cpan.org/CPAN/authors/id/T/TH/THALJEF/$_dist-$pkgver.tar.gz")
sha256sums=('503b718356b14d4c00ed486b66a0f622f4bef2b206be406ee7922c8270463fa1')

build() (
    cd "${srcdir}/${_dist}-${pkgver}"
    unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
    export PERL_MM_USE_DEFAULT=1 MODULEBUILDRC=/dev/null
    perl Build.PL
    ./Build
)

check() (
    cd "${srcdir}/${_dist}-${pkgver}"
    unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
    export PERL_MM_USE_DEFAULT=1
    ./Build test
)

package() (
    cd "${srcdir}/${_dist}-${pkgver}"
    unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
    ./Build install installdirs='vendor' destdir="$pkgdir"
)
