# Maintainer: David Ross <daboross@daboross.net>
#
# This PKGBUILD was generated by `cargo aur`: https://crates.io/crates/cargo-aur

pkgname=cargo-screeps
pkgver=0.5.1
pkgrel=1
pkgdesc="Build tool for deploying Rust WASM code to Screeps game servers"
url="https://github.com/rustyscreeps/cargo-screeps/"
license=("MIT")
arch=("x86_64")
provides=("cargo-screeps")
conflicts=("cargo-screeps")
source=("$pkgname-$pkgver.tar.gz::https://github.com/rustyscreeps/cargo-screeps/archive/refs/tags/cargo-screeps-$pkgver.tar.gz")
sha256sums=("1e4b00a49368420d6602daa86d79dd76a0f8a6fefa0780578183782811cbc1d9")

build() {
	cd "$srcdir/$pkgname-$pkgname-$pkgver"

	CARGO_TARGET_DIR='target' cargo build --release
}

package() {
	install -Dm755 "$srcdir/$pkgname-$pkgname-$pkgver/target/release/cargo-screeps" -t "$pkgdir/usr/bin"
}
