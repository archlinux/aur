# Generated by debtap
# Maintainer: 1nikolas
# Contributor: 1nikolas
pkgname=purevpn-gui
pkgver=2.4.0
pkgrel=1
pkgdesc='PureVPN Linux Application (GUI)'
arch=('x86_64')
url='https://www.purevpn.com/download/linux-vpn'
license=('Custom')
depends=('gtk3' 'libnotify' 'nss' 'libxtst' 'xdg-utils' 'at-spi2-atk' 'util-linux-libs' 'libsecret' 'openresolv' 'openvpn' 'wireguard-tools')
makedepends=('gcc')
optdepends=('libappindicator-gtk3')
options=('!strip' '!emptydirs')
install=${pkgname}.install
source_x86_64=("https://purevpn-dialer-assets.s3.amazonaws.com/cross-platform/linux-gui/${pkgver}/PureVPN_amd64.deb?${pkgver}"
               'dpkg-query.c'
               'purevpn.desktop')
sha512sums_x86_64=('ec61fe4d7bc088adad8c56b2530e3d64693cbe3969887939aa55db691de226416a6588cc4389747b241f82ad522aec1d20747921eeeaf95e948969cd1297f763'
                   '51b12c730cb87e6a2218e8d35d2076e553dd8c8fdf42cab8b462cc48e5222bde0fe822c9b50a75040eb1ab47fc9bcedbae58f63d0d04e27f6cfa33db501614b2'
                   '32300fd345af3cea118b160598da0d68793948ae7c2e5ac29b754bfd2c0f2c07241e543a0b389a36784535033f06fc341fb95b8e9e7b9c54cb132027ed7075cc')

package(){

	# Extract package data
	tar -xJ -f data.tar.xz -C "${pkgdir}"

	install -D -m644 "${pkgdir}/opt/PureVPN/LICENSES.chromium.html" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"

	# Compile fake dpkg-query
	gcc dpkg-query.c -o "${pkgdir}/opt/PureVPN/dpkg-query"

	install -D -m664 purevpn.desktop "${pkgdir}/usr/share/applications/purevpn.desktop"


}
