# Maintainer Jan-Henrik Bruhn <aur@jhbruhn.de>

# PKGBUILD generated by pipman
# Python package author: Adam Greig <adam@adamgreig.com>
pkgname=python-svdtools
pkgver=0.1.14
pkgrel=2
pkgdesc=" Python package to handle vendor-supplied, often buggy SVD files."
arch=(any)
url="https://github.com/stm32-rs/svdtools"
license=('MIT', 'APACHE')
depends=('python-lxml')
makedepends=("python" "python-pip")
build() {
  pip install --no-deps --target="svdtools" svdtools==$pkgver --upgrade
}
package() {
  sitepackages=$(python -c "import site; print(site.getsitepackages()[0])")
  mkdir -p $pkgdir/"$sitepackages"
  cp -r $srcdir/svdtools/* $pkgdir/"$sitepackages"
  mkdir -p $pkgdir/usr/bin
  cp $srcdir/svdtools/bin/svd $pkgdir/usr/bin/svd
}

