diff --unified --recursive justbuild-1.2.0/src/utils/cpp/json.hpp justbuild-1.2.0.new/src/utils/cpp/json.hpp
--- justbuild-1.2.0/src/utils/cpp/json.hpp	2023-08-25 10:37:05.000000000 +0200
+++ justbuild-1.2.0.new/src/utils/cpp/json.hpp	2023-08-27 18:43:00.957940777 +0200
@@ -21,6 +21,7 @@
 #include <string>
 #include <unordered_map>
 
+#include "fmt/ostream.h"
 #include "gsl/gsl"
 #include "nlohmann/json.hpp"
 #include "src/utils/cpp/gsl.hpp"
@@ -212,4 +213,10 @@
     return old_abbrev;
 }
 
+// Use nlohmann::basic_json's operator<<() for formatting via libfmt.
+// This explicit template specialization seems to be required, starting with
+// libfmt 10.x 
+template <>
+struct fmt::formatter<nlohmann::basic_json<>> : ostream_formatter {};
+
 #endif  // INCLUDED_SRC_UTILS_CPP_JSON_HPP
