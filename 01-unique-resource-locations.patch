diff --unified --recursive --text inter-doom-heretic-6.0/src/base/CMakeLists.txt inter-doom-heretic-6.0.new/src/base/CMakeLists.txt
--- inter-doom-heretic-6.0/src/base/CMakeLists.txt	2022-12-31 11:06:34.000000000 +0300
+++ inter-doom-heretic-6.0.new/src/base/CMakeLists.txt	2023-01-10 10:22:43.535046946 +0300
@@ -22,7 +22,7 @@
     )
 
     install(FILES $<GENEX_EVAL:$<TARGET_PROPERTY:doom-wads,OUT_FILES>>
-        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PACKAGE_TARNAME}>
+        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PROGRAM_PREFIX}doom>
         COMPONENT doom
     )
 endif()
@@ -33,7 +33,7 @@
     )
 
     install(FILES $<GENEX_EVAL:$<TARGET_PROPERTY:heretic-wads,OUT_FILES>>
-        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PACKAGE_TARNAME}>
+        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PROGRAM_PREFIX}heretic>
         COMPONENT heretic
     )
 endif()
@@ -45,7 +45,7 @@
     )
 
     install(FILES $<GENEX_EVAL:$<TARGET_PROPERTY:hexen-wads,OUT_FILES>>
-        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PACKAGE_TARNAME}>
+        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PROGRAM_PREFIX}hexen>
         COMPONENT hexen
     )
 endif()
@@ -57,7 +57,7 @@
     )
 
     install(FILES $<GENEX_EVAL:$<TARGET_PROPERTY:strife-wads,OUT_FILES>>
-        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PACKAGE_TARNAME}>
+        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PROGRAM_PREFIX}strife>
         COMPONENT strife
     )
 endif()
diff --unified --recursive --text inter-doom-heretic-6.0/src/base/gus_patches/CMakeLists.txt inter-doom-heretic-6.0.new/src/base/gus_patches/CMakeLists.txt
--- inter-doom-heretic-6.0/src/base/gus_patches/CMakeLists.txt	2022-12-31 11:06:34.000000000 +0300
+++ inter-doom-heretic-6.0.new/src/base/gus_patches/CMakeLists.txt	2023-01-10 10:22:43.535046946 +0300
@@ -197,14 +197,9 @@
     xylophon.pat
 )
 
-install(FILES $<GENEX_EVAL:$<TARGET_PROPERTY:gus-patches,OUT_FILES>>
-    DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PACKAGE_TARNAME}>/gus_patches
-)
-# Same install rule but for component based install
 foreach(MODULE ${COMPILE_MODULES})
     install(FILES $<GENEX_EVAL:$<TARGET_PROPERTY:gus-patches,OUT_FILES>>
-        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PACKAGE_TARNAME}>/gus_patches
+        DESTINATION $<IF:$<OR:$<BOOL:${WIN32}>,$<BOOL:${BUILD_PORTABLE}>>,base,${CMAKE_INSTALL_DATADIR}/${PROGRAM_PREFIX}${MODULE}>/gus_patches
         COMPONENT "${MODULE}"
-        EXCLUDE_FROM_ALL
     )
 endforeach()
diff --unified --recursive --text inter-doom-heretic-6.0/src/m_misc.c inter-doom-heretic-6.0.new/src/m_misc.c
--- inter-doom-heretic-6.0/src/m_misc.c	2022-12-31 11:06:34.000000000 +0300
+++ inter-doom-heretic-6.0.new/src/m_misc.c	2023-01-10 10:22:43.535046946 +0300
@@ -41,6 +41,7 @@
 #endif
 
 #include "doomtype.h"
+#include "d_name.h"
 #include "i_system.h"
 #include "i_timer.h"
 #include "m_argv.h"
@@ -767,7 +768,11 @@
 #elif defined(__APPLE__)
     retVal = M_StringJoin(packageResourcesDir, resourceName, NULL);
 #else // Linux
-    retVal = M_StringJoin(PACKAGE_DATADIR, DIR_SEPARATOR_S, PACKAGE_TARNAME, DIR_SEPARATOR_S, resourceName, NULL);
+    const char* gameName = RD_GameType == gt_Doom ? "doom"
+                          : RD_GameType == gt_Heretic ? "heretic"
+                          : RD_GameType == gt_Hexen ? "hexen"
+                          : "strife";
+    retVal = M_StringJoin(PACKAGE_DATADIR, DIR_SEPARATOR_S, PROGRAM_PREFIX, gameName, DIR_SEPARATOR_S, resourceName, NULL);
 #endif
     if(!M_FileExists(retVal))
     {
