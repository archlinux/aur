From fd8a7a4c78002c4961cc92e37ef435142d2b2b3a Mon Sep 17 00:00:00 2001
From: egnappahz <egnappah@gmail.com>
Date: Thu, 4 May 2023 18:28:39 +0200
Subject: [PATCH] AURNEWS patch

Signed-off-by: egnappahz <egnappah@gmail.com>
---
 pikaur/install_cli.py      | 7 +++++++
 pikaur/print_department.py | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

diff --git a/pikaur/install_cli.py b/pikaur/install_cli.py
index ddc4736..a819daa 100644
--- a/pikaur/install_cli.py
+++ b/pikaur/install_cli.py
@@ -3,6 +3,7 @@
 # pylint: disable=too-many-lines
 import contextlib
 import hashlib
+import os
 from multiprocessing.pool import ThreadPool
 from pathlib import Path
 from tempfile import NamedTemporaryFile
@@ -778,6 +779,12 @@ class InstallPackagesCLI():
             _pkg_label = bold_line(", ".join(pkg_build.package_names))
             _skip_diff_label = translate("Not showing diff for {pkg} package ({reason})")
 
+            for pkgname_eggz in pkg_build.package_names:
+                print_stdout(color_line("------------ Package comments for " + pkgname_eggz + " ------------",11))
+                os.system("curl -s https://aur.archlinux.org/packages/" + str(pkgname_eggz) + " | grep '<div id=\"comment-' -A10 | grep 'p>' | sed 's/.*<p>//g' | sed 's/<\/p>/\\n/g' | grep -v '</div>' | head -n20")
+                print_stdout(color_line("/----------- End comments for " + pkgname_eggz + " -----------/",11))
+
+
             if (
                     pkg_build.package_base in self.reviewed_package_bases
             ):
diff --git a/pikaur/print_department.py b/pikaur/print_department.py
index 79572cb..e1913c4 100644
--- a/pikaur/print_department.py
+++ b/pikaur/print_department.py
@@ -59,7 +59,7 @@ def print_version(pacman_version: str, pyalpm_version: str, *, quiet: bool = Fal
   l  /       \        l
   j  ●   .   ●        l      """ + pacman_version + r"""
  { )  ._,.__,   , -.  {      pyalpm v""" + pyalpm_version + r"""
-  Y    \  _/     ._/   \
+  Y    \  _/     ._/   \     With Magical AURNEWS patch by Eggz
 
 """)
 
-- 
2.40.1

