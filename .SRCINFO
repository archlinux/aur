pkgbase = linux-uksmd
	pkgdesc = Linux UKSMD
	pkgver = 5.18.15
	pkgrel = 3
	url = https://codeberg.org/pf-kernel/uksmd
	arch = x86_64
	license = GPL2
	makedepends = bc
	makedepends = libelf
	makedepends = pahole
	makedepends = cpio
	makedepends = perl
	makedepends = tar
	makedepends = xz
	options = !strip
	source = https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.18.15.tar.xz
	source = https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.18.15.tar.sign
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.18/ksm-patches-v2/0001-ksm-patches.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.18/cpu-patches-sep/0001-cpu-5.18-merge-graysky-s-patchset.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.18/arch-patches-v4-sep/0001-ZEN-Add-sysctl-and-CONFIG-to-disallow-unprivileged-C.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.18/arch-patches-v4-sep/0002-HID-apple-Properly-handle-function-keys-on-Keychron-.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.18/arch-patches-v4-sep/0003-soundwire-Raise-DEFAULT_PROBE_TIMEOUT-to-10000-ms.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.18/arch-patches-v4-sep/0004-drm-i915-psr-Use-full-update-In-case-of-area-calcula.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.18/arch-patches-v4-sep/0005-drm-i915-Ensure-damage-clip-area-is-within-pipe-area.patch
	source = config
	validpgpkeys = ABAF11C65A2970B130ABE3C479BE3E4300411886
	validpgpkeys = 647F28654894E3BD457199BE38DBBDC86092693E
	sha512sums = 9436831b84727bd751741d1f569dc8bc314c33daf02d2405d4ef612ae6797dc4b3b96e13b46088db65e518052780f1bc30c0d1a4c528373d3509039dc055f835
	sha512sums = SKIP
	sha512sums = 974bfcdfd082e55668d17ccbcf62607c5b3d128c0a28bdbb18a28b46d42c08cb8c529e6cec2d745e0e0ee54608eb64837e2f35af06d1b651cb7497fce738349d
	sha512sums = 2fa1250d93049fcfcfe04d201236eb7a662703b71a73b77c8e5df72900ad40cbb0b818c9c82cbf0204f67bf496bce7310d713ff9106825816525be1ba2da68e8
	sha512sums = 7d06db3fd8eca5f616d0ae62c744671a9180b5dc5618dd282dc054e47dd470de74cd28fefb28766cd0c93d97f244e8bfcb51b1c8793103171ddc0833778e5cc4
	sha512sums = 75a64acd22a40ed0b9a49acb923c356b216136f65569aafca78fd84730fc273722d0b680d1f3304e9e9bc96a838bfebb4f041cf37ee7aea353cd99dfdf499ea7
	sha512sums = 0f691fc4cd765c17fbae056264c933a2c8b73df4d0206d25d8ca4318bb079600a50917e96bb1c1c89b2012e7b211dcb063b59d41816c61659356c138f09fe1d8
	sha512sums = f0696b43eec0667e364793a9f36d9f9e07fa4828726f2d886c0a7b79a7fd69ab21314cb96a67b739c3d5f7b3abcc4f26e4c8d73c35047a98c9b97693f3493799
	sha512sums = 56e9e911d94e0034dba52e7d375577b591c9bce5f95043874317fa35bbb5310d799956d3d31385ce39440ad867a62c2b61ff05da6cae2e354b10314ee6a10920
	sha512sums = 0fad0c13f9c795e0ea5fef2f27505ec0e0ba3c01c794d22329df2ce54bbb79cd37e17ce4844e63673de7c255b618a6838b3b41a32ddc2da4ea477134467972fa

pkgname = linux-uksmd
	pkgdesc = The Linux UKSMD kernel and modules
	depends = coreutils
	depends = kmod
	depends = initramfs
	optdepends = wireless-regdb: to set the correct wireless channels of your country
	optdepends = linux-firmware: firmware images needed for some devices
	optdepends = modprobed-db: Keeps track of EVERY kernel module that has ever been probed - useful for those of us who make localmodconfig
	optdepends = uksmd: Userspace KSM helper daemon
	provides = VIRTUALBOX-GUEST-MODULES
	provides = WIREGUARD-MODULE
	provides = UKSMD-BUILTIN

pkgname = linux-uksmd-headers
	pkgdesc = Headers and scripts for building modules for the Linux UKSMD kernel
	depends = linux-uksmd
	depends = pahole
