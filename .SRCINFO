pkgbase = tensorflow-rocm
	pkgdesc = Library for computation using data flow graphs for scalable machine learning
	pkgver = 2.3.1
	pkgrel = 2
	url = https://www.tensorflow.org/
	arch = x86_64
	license = APACHE
	makedepends = bazel
	makedepends = python-numpy
	makedepends = rocm
	makedepends = rocm-libs
	makedepends = miopen
	makedepends = rccl
	makedepends = git
	makedepends = gcc9
	makedepends = python-pip
	makedepends = python-wheel
	makedepends = python-setuptools
	makedepends = python-h5py
	makedepends = python-keras-applications
	makedepends = python-keras-preprocessing
	depends = c-ares
	depends = intel-mkl
	depends = onednn
	optdepends = tensorboard: Tensorflow visualization toolkit
	source = tensorflow-rocm-2.3.1.tar.gz::https://github.com/tensorflow/tensorflow/archive/v2.3.1.tar.gz
	source = numpy1.20.patch::https://github.com/tensorflow/tensorflow/commit/75ea0b31477d6ba9e990e296bbbd8ca4e7eebadf.patch
	source = build-against-actual-mkl.patch
	source = fix_hip_hcc_path.patch::https://github.com/tensorflow/tensorflow/commit/6175b78d8386bd6e5b2beebedb9f40e6b887d5a9.patch
	source = fix_hipcc_path.patch::https://github.com/tensorflow/tensorflow/commit/9d2b338025dc61828ccf8196bb042ab9c586c7b3.patch
	source = fix_gpu_atomic_redef.patch::https://github.com/tensorflow/tensorflow/commit/c054f40f66fa625f51085a20c48554c61d05c5fd.patch
	source = fix_ldexp_float.patch::https://github.com/tensorflow/tensorflow/commit/655ce09f679a90ecd561538227c703b42d0fc5fa.patch
	source = fix_occupancy_block.patch
	source = new-rocm.patch
	sha512sums = e497ef4564f50abf9f918be4522cf702f4cf945cb1ebf83af1386ac4ddc7373b3ba70c7f803f8ca06faf2c6b5396e60b1e0e9b97bfbd667e733b08b6e6d70ef0
	sha512sums = df2e0373e2f63b8766f31933f7db57f6a7559b8f03af1db51644fba87731451a7cd3895529a3192e5394612fcb42f245b794b1c9ca3c05881ca03a547c8c9acc
	sha512sums = e51e3f3dced121db3a09fbdaefd33555536095584b72a5eb6f302fa6fa68ab56ea45e8a847ec90ff4ba076db312c06f91ff672e08e95263c658526582494ce08
	sha512sums = 7acc2f2579158be1d8c824da0f6d44d084a56182f1aab3cd7a78d513931b3a16ce72f2e05b44b1de76f5519af39e80431660de294ff337842e4ee8949cb85b28
	sha512sums = 136d91db88658dd0eab1543f8dec1cd20dca86afc6970606a722e7d01a645d64c42564d590fc1ecb04c204ae0b0fa8f78cf9998e9bcf367f4cc795fa59677591
	sha512sums = 75972acf0ec53b28aa6c93de77a385acaf675c0d0ae93b6545f67414e9895cbd1074a5d65b211390846b736df271a567b49ec4c992883ad83c060f708bbe0d20
	sha512sums = 42fc09bc15412f3b9a82f36485735faed0dcc2f47d72c5bfc451bc09a2aad472db59edb387455fb6594b1606de3a7789917e1fb31280c7044898097ec37db3d5
	sha512sums = 88c04ed7a766193687d7079102332e3c63d6f0accbda777836abe5e03e9ebb83fd1aeaa9e4adca70310ce18bf3c6c3907f1f8a11c13e67e3ef79497b91bbf126
	sha512sums = 080fd9d4e1228ceb04901a0caceb18b965ef199704196a9b7711fcada3a8cfc2f65c529c4c0e05960ab1e469d203727bf0bbded82d895c13e0e2ab29ae524317

pkgname = tensorflow-rocm
	pkgdesc = Library for computation using data flow graphs for scalable machine learning (with ROCM)
	depends = c-ares
	depends = intel-mkl
	depends = onednn
	depends = rocm
	depends = rccl
	provides = tensorflow
	conflicts = tensorflow

pkgname = python-tensorflow-rocm
	pkgdesc = Library for computation using data flow graphs for scalable machine learning (with ROCM)
	depends = c-ares
	depends = intel-mkl
	depends = onednn
	depends = tensorflow-rocm
	depends = python-termcolor
	depends = python-astor
	depends = python-gast
	depends = python-numpy
	depends = rocm
	depends = python-protobuf
	depends = absl-py
	depends = rccl
	depends = python-h5py
	depends = python-keras-applications
	depends = python-keras-preprocessing
	depends = python-tensorflow-estimator
	depends = python-opt_einsum
	depends = python-astunparse
	provides = python-tensorflow
	conflicts = python-tensorflow

pkgname = tensorflow-opt-rocm
	pkgdesc = Library for computation using data flow graphs for scalable machine learning (with ROCM and CPU optimizations)
	depends = c-ares
	depends = intel-mkl
	depends = onednn
	depends = rocm
	depends = rccl
	provides = tensorflow
	provides = tensorflow-rocm
	conflicts = tensorflow

pkgname = python-tensorflow-opt-rocm
	pkgdesc = Library for computation using data flow graphs for scalable machine learning (with ROCM and CPU optimizations)
	depends = c-ares
	depends = intel-mkl
	depends = onednn
	depends = tensorflow-opt-rocm
	depends = python-termcolor
	depends = python-astor
	depends = python-gast
	depends = python-numpy
	depends = rocm
	depends = python-protobuf
	depends = absl-py
	depends = rccl
	depends = python-h5py
	depends = python-keras-applications
	depends = python-keras-preprocessing
	depends = python-tensorflow-estimator
	depends = python-opt_einsum
	depends = python-astunparse
	provides = python-tensorflow
	provides = python-tensorflow-rocm
	conflicts = python-tensorflow

