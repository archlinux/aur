pkgbase = python-horovod
	pkgdesc = Distributed training framework for TensorFlow, Keras, PyTorch, and Apache MXNet
	pkgver = 0.28.1
	pkgrel = 3
	url = https://github.com/horovod/horovod
	arch = x86_64
	license = Apache-2.0
	makedepends = cmake
	makedepends = git
	makedepends = python-build
	makedepends = python-installer
	makedepends = python-pytorch-cuda
	makedepends = python-setuptools
	makedepends = python-tensorflow-cuda
	makedepends = python-wheel
	depends = cuda
	depends = cudnn
	depends = gcc-libs
	depends = glibc
	depends = nccl
	depends = openmpi
	depends = python-cloudpickle
	depends = python-h5py
	depends = python-mock
	depends = python-mpi4py
	depends = python-psutil
	depends = python-pycparser
	depends = python-pyaml
	depends = python-scipy
	depends = python-six
	depends = python-tqdm
	optdepends = python-pytorch-cuda: pytorch framework
	optdepends = python-tensorflow-cuda: tensorflow framework
	source = horovod-0.28.1::git+https://github.com/horovod/horovod.git#tag=v0.28.1
	source = 0001-fix-building-with-torch-2.1.patch::https://github.com/horovod/horovod/pull/3998.patch
	source = 0002-fix-building-torch-extension-with-glog.patch
	sha512sums = SKIP
	sha512sums = 7c56b56e665e0590ced4366d71dcd5ed83cab7e2943b0548d0472ef19b5a051a9dcaa8800c417882b171acbe4dc5f745e1c876aabb0bb8564215ce121f14cf67
	sha512sums = 52850f5e4f60122e0064307f0d5d5fb6781c8f77f0e54d4b9c306e98bd15d1edc1c670a1623653fb571332c74cb11d7ffd5a1b7e6fe3403f990cc96ca5ccf7c0

pkgname = python-horovod
