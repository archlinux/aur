pkgbase = python-onnxruntime
	pkgdesc = Cross-platform, high performance scoring engine for ML models
	pkgver = 1.16.1
	pkgrel = 1
	url = https://github.com/microsoft/onnxruntime
	arch = x86_64
	license = MIT
	makedepends = git
	makedepends = cmake
	makedepends = gcc-libs
	makedepends = glibc
	makedepends = cxxopts
	makedepends = pybind11
	makedepends = abseil-cpp
	makedepends = nlohmann-json
	makedepends = chrono-date
	makedepends = boost
	makedepends = eigen
	makedepends = onednn
	makedepends = nsync
	makedepends = openmpi
	makedepends = python-coloredlogs
	makedepends = python-flatbuffers
	makedepends = python-numpy
	makedepends = python-sympy
	makedepends = python-setuptools
	makedepends = python-installer
	makedepends = python-wheel
	makedepends = python-build
	makedepends = chrpath
	makedepends = cuda
	makedepends = cudnn
	makedepends = nccl
	options = debug
	source = git+https://github.com/microsoft/onnxruntime#tag=v1.16.1
	source = install-orttraining-files.diff
	source = system-dnnl.diff
	sha512sums = SKIP
	sha512sums = SKIP
	sha512sums = SKIP

pkgname = onnxruntime
	depends = gcc-libs
	depends = glibc
	depends = onednn
	depends = openmpi
	depends = libmpi.so
	depends = abseil-cpp
	depends = nsync
	provides = libonnxruntime.so
	provides = libonnxruntime_providers_shared.so

pkgname = python-onnxruntime
	pkgdesc = Cross-platform, high performance scoring engine for ML models (Python Bindings)
	depends = onnxruntime
	depends = gcc-libs
	depends = glibc
	depends = abseil-cpp
	depends = openmpi
	depends = libmpi.so
	depends = nsync
	depends = python-coloredlogs
	depends = python-flatbuffers
	depends = python-numpy
	depends = python-sympy
	depends = python-packaging
	depends = python-setuptools
	depends = python-requests
	optdepends = python-onnx: for the backend API, quantization, orttraining, transformers and various tools
	optdepends = python-psutil: for transformers
	optdepends = python-py-cpuinfo: for transformers
	optdepends = python-py3nvml: for transformers
	optdepends = python-transformers: for transformers
	optdepends = python-scipy: for transformers and various tools
	optdepends = python-pytorch: for transformers, orttraining and various tools
	optdepends = python-pytorch-cuda
	optdepends = python-cerberus: for orttraining
	optdepends = python-h5py: for orttraining
	optdepends = python-matplotlib
	optdepends = python-tensorflow-opt-cuda
	optdepends = python-importlib-metadata

pkgname = onnxruntime-cuda
	pkgdesc = Cross-platform, high performance scoring engine for ML models (CUDA execution provider)
	depends = gcc-libs
	depends = glibc
	depends = cudnn
	depends = nccl
	depends = openmpi
	depends = libmpi.so
	depends = nsync
	depends = abseil-cpp
	depends = cuda
	depends = libcublas.so
	depends = libcudart.so
	conflicts = python-onnxruntime-cuda
	replaces = python-onnxruntime-cuda
