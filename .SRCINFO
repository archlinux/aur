pkgbase = gdm-plymouth-prime
	pkgdesc = Display manager and login screen with plymouth and Prime support for Optimus laptops
	pkgver = 43.0
	pkgrel = 1
	url = https://wiki.gnome.org/Projects/GDM
	arch = x86_64
	license = GPL
	checkdepends = check
	makedepends = yelp-tools
	makedepends = gobject-introspection
	makedepends = git
	makedepends = docbook-xsl
	makedepends = meson
	depends = plymouth
	depends = gnome-shell
	depends = gnome-session
	depends = upower
	depends = systemd
	depends = xorg-xrdb
	depends = xorg-server
	depends = xorg-xhost
	depends = libxdmcp
	depends = libcanberra
	options = debug
	source = git+https://github.com/GNOME/gdm.git#commit=afa6f2ef3d34048cd7a3e1a1ec478be2ff464806
	source = 0001-Xsession-Don-t-start-ssh-agent-by-default.patch
	source = 0002-pam-arch-Remove-user_readenv-1-from-pam_env.patch
	source = 0003-nvidia-prime.patch
	sha256sums = SKIP
	sha256sums = 39a7e1189d423dd428ace9baac77ba0442c6706a861d3c3db9eb3a6643e223f8
	sha256sums = 7e42077a89a6fcf8b02244b01127af7000a10ed55e09e385eb6fac5aef421c07
	sha256sums = a1fb80c69454492390e4b7edac0efe55b2178c7031051d3eab99ed8c14d3e0e4

pkgname = gdm-plymouth-prime
	install = gdm.install
	groups = gnome
	depends = plymouth
	depends = gnome-shell
	depends = gnome-session
	depends = upower
	depends = systemd
	depends = xorg-xrdb
	depends = xorg-server
	depends = xorg-xhost
	depends = libxdmcp
	depends = libcanberra
	depends = libgdm-plymouth-prime
	optdepends = fprintd: fingerprint authentication
	provides = gdm
	conflicts = gdm
	backup = etc/pam.d/gdm-autologin
	backup = etc/pam.d/gdm-fingerprint
	backup = etc/pam.d/gdm-launch-environment
	backup = etc/pam.d/gdm-password
	backup = etc/pam.d/gdm-smartcard
	backup = etc/gdm/custom.conf
	backup = etc/gdm/Xsession
	backup = etc/gdm/PostSession/Default
	backup = etc/gdm/PreSession/Default

pkgname = libgdm-plymouth-prime
	pkgdesc = Display manager and login screen with plymouth and Prime support for Optimus laptops - support library
	depends = libsystemd.so
	depends = libglib-2.0.so
	depends = libgobject-2.0.so
	depends = libgio-2.0.so
	provides = libgdm
	conflicts = libgdm
