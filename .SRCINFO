pkgbase = linux-uksm
	pkgdesc = Linux UKSM
	pkgver = 5.17.4
	pkgrel = 3
	url = https://github.com/dolohow/uksm
	arch = x86_64
	license = GPL2
	makedepends = bc
	makedepends = libelf
	makedepends = python-sphinx
	makedepends = python-sphinx_rtd_theme
	makedepends = graphviz
	makedepends = imagemagick
	makedepends = pahole
	makedepends = cpio
	makedepends = perl
	makedepends = tar
	makedepends = xz
	makedepends = texlive-latexextra
	makedepends = xmlto
	options = !strip
	source = https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.17.4.tar.xz
	source = https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.17.4.tar.sign
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/uksm-patches/0001-UKSM-for-5.17.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/cpu-patches-sep/0001-cpu-5.17-merge-graysky-s-patchset.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0001-ZEN-Add-sysctl-and-CONFIG-to-disallow-unprivileged-C.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0002-random-treat-bootloader-trust-toggle-the-same-way-as.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0003-tick-Detect-and-fix-jiffies-update-stall.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0004-tick-rcu-Remove-obsolete-rcu_needs_cpu-parameters.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0005-tick-rcu-Stop-allowing-RCU_SOFTIRQ-in-idle.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0006-lib-irq_poll-Declare-IRQ_POLL-softirq-vector-as-ksof.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0007-gpio-Request-interrupts-after-IRQ-is-initialized.patch
	source = https://gitlab.com/sirlucjan/kernel-patches/raw/master/5.17/arch-patches-v15-sep/0008-NFSv4.1-provide-mount-option-to-toggle-trunking-disc.patch
	source = config
	validpgpkeys = ABAF11C65A2970B130ABE3C479BE3E4300411886
	validpgpkeys = 647F28654894E3BD457199BE38DBBDC86092693E
	sha512sums = a0f1945eb61527aac886875a83ad720bff3d6cd06ed0ee92ff7795e4f854d797f7688a102f1e8aa4425e96aab789f4b4c82104591de32fdf34ffd5c13622bbf3
	sha512sums = SKIP
	sha512sums = bb458673cd6d1d71c78edeb06c1c5e9ee663e43c0a058c87ac7a0cf542192d8478d06c9df60c2d7032289d7bf31953b41475638c30cd52e54c18c6e7c06f09bd
	sha512sums = b63921b6246bd1b9545a8042d76334bef8a7ee46e5404c5efec4a842a455a84046e92423b2bc6d950f19dcf85805d7493fe71d6d177e3b46b52a279b0a44d0c9
	sha512sums = e46caf09f93297e8dc906cbd333314295d87a71e0c6d3e236d1be7eb7d7aea635093699d869bae3b5388ff20ac09b53d23e708bb0f05578a4ee440507c2696bf
	sha512sums = ef438b99826e2f967114719c96f98d76a23e66f9bb6577d46c5bc0b9132dce966f1bd0d24d1b19ed916e534141b3a73da38e63565381d2ff09e89ce6fdd64ee6
	sha512sums = e98a9e0bc3f798e33fc0fa42434b3f8c03456f66f0b95f419aaeb77b71d9e60b02d1559bf1bb31c0376fd73aee824dcdcfbf619da3fbe6345db6e7b645c6d99b
	sha512sums = 0c9ea6c73693cf91699c9691f424d80a11de860585d2d1f522ccfa34506e9dd4de3bac7d2b7226e09cc4f3daf0f5e0beec2b921829a911d280d9c0b2ea649b78
	sha512sums = b4fb5de2d839e3a1db854d8efeb4f604df1dd6de4bb0367a5bff873c1515f003a5fca8f115ae96ed3669de62ef0ce18039313f103aa0f868808c51985aee06e2
	sha512sums = c713e61cc1cf2d9402dd419f8c5367e7f4c0c0444ffd8c56c8407d943286bc104a315e8f4547d522b973b23ed4722137c82a2716b3c43710e0e38307994911d8
	sha512sums = 61e0469fd061af316cd896f87c3d87a99687a1d9fe85f1a4fcc3dafcbe4c489fd42d3ee7ba9b9691f643c5f442f5a2bd5d0ffb1b1081415ec1030aa4ba85123d
	sha512sums = e3f7d5889e136724b94fee7feef25e412eac1c149e7049afbf25513b08e642a99dda5385e3246914fe18e04dcde7e48a09a264a77f442aab1cf97e26208a9026
	sha512sums = 4ac5010d7c78b4bb50b4de3cb1518724576228b81c799760011b31c7c39dcf617fe33ca94531dce0f873ef35dcf5db70f8555c136a58a3e096bb1037044dc959

pkgname = linux-uksm
	pkgdesc = The Linux UKSM kernel and modules
	depends = coreutils
	depends = kmod
	depends = initramfs
	optdepends = wireless-regdb: to set the correct wireless channels of your country
	optdepends = linux-firmware: firmware images needed for some devices
	optdepends = modprobed-db: Keeps track of EVERY kernel module that has ever been probed - useful for those of us who make localmodconfig
	provides = VIRTUALBOX-GUEST-MODULES
	provides = WIREGUARD-MODULE

pkgname = linux-uksm-headers
	pkgdesc = Headers and scripts for building modules for the Linux UKSM kernel
	depends = linux-uksm
	depends = pahole

pkgname = linux-uksm-docs
	pkgdesc = Documentation for the Linux UKSM kernel
	depends = linux-uksm
