--- ./usr/src/seh-utn-driver-3.3.10/vhci_sd_boost.c	2023-03-01 09:57:03.000000000 +0100
+++ ./usr/src/seh-utn-driver-3.3.10/vhci_sd_boost.c	2023-05-26 20:00:17.044234521 +0200
@@ -33,8 +33,8 @@
 #if __has_include(<linux/genhd.h>)
 #include <linux/genhd.h>
 #endif
-#define queue_to_disk_seh(q)    (dev_to_disk(kobj_to_dev((q)->kobj.parent)))
-#define queue_has_disk_seh(q)   ((q)->kobj.parent != NULL)
+#define queue_to_disk_seh(q)    (dev_to_disk(kobj_to_dev((q)->disk->queue_kobj.parent)))
+#define queue_has_disk_seh(q)   ((q)->disk != NULL && (q)->disk->queue_kobj.parent != NULL)
 #endif
 
 #define BUFFER_SECTOR 2048
