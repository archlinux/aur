--- postgresql-12.17/src/backend/utils/adt/xml.c.orig   2023-11-06 23:11:55.000000000 +0100
+++ postgresql-12.17/src/backend/utils/adt/xml.c    2024-01-09 17:34:53.613808376 +0100
@@ -119,7 +119,11 @@

 static xmlParserInputPtr xmlPgEntityLoader(const char *URL, const char *ID,
                                          xmlParserCtxtPtr ctxt);
+#if LIBXML_VERSION >= 21200
+static void xml_errorHandler(void *data, const xmlError *error);
+#else
 static void xml_errorHandler(void *data, xmlErrorPtr error);
+#endif
 static void xml_ereport_by_code(int level, int sqlcode,
                               const char *msg, int errcode);
 static void chopStringInfoNewlines(StringInfo str);
@@ -1751,8 +1755,12 @@
 /*
  * Error handler for libxml errors and warnings
  */
+#if LIBXML_VERSION >= 21200
+static void xml_errorHandler(void *data, const xmlError *error)
+#else
 static void
 xml_errorHandler(void *data, xmlErrorPtr error)
+#endif
 {
    PgXmlErrorContext *xmlerrcxt = (PgXmlErrorContext *) data;
    xmlParserCtxtPtr ctxt = (xmlParserCtxtPtr) error->ctxt;
