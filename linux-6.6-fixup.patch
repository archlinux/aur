diff -rU1 tty0tty.linux-6.1-fixed/module/tty0tty.c tty0tty/module/tty0tty.c
--- tty0tty.linux-6.1-fixed/module/tty0tty.c	2024-01-11 20:13:27.739146823 +0100
+++ tty0tty/module/tty0tty.c	2024-01-11 20:14:35.892478188 +0100
@@ -212,4 +212,9 @@
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,6,0)
+static ssize_t tty0tty_write(struct tty_struct *tty, const unsigned char *buffer,
+			 size_t count)
+#else
 static int tty0tty_write(struct tty_struct *tty, const unsigned char *buffer,
 			 int count)
+#endif
 {
