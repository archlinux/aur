From 5ec1a353148baababa8b727d181b735f8a40d854 Mon Sep 17 00:00:00 2001
From: dbear496 <70439542+dbear496@users.noreply.github.com>
Date: Fri, 19 Jan 2024 21:13:06 -0500
Subject: [PATCH 1/3] install data+info files from binary dir

---
 data/CMakeLists.txt | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/data/CMakeLists.txt b/data/CMakeLists.txt
index d5a707a1..7a1e0eb9 100644
--- a/data/CMakeLists.txt
+++ b/data/CMakeLists.txt
@@ -22,7 +22,8 @@ foreach(dataFile ${allDataFiles})
     WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
     COMMENT "copying ${dataFile} to build directory"
   )
-  install(FILES ${dataFile} DESTINATION ${CMAKE_INSTALL_APPDATADIR}/${dataFile})
+  cmake_path(GET dataFile PARENT_PATH dataFileDst)
+  install(FILES ${CMAKE_CURRENT_BINARY_DIR}/${dataFile} DESTINATION ${CMAKE_INSTALL_APPDATADIR}/${dataFileDst})
 endforeach()
 add_custom_target(allDataFiles.target DEPENDS ${allDataFiles})
 add_dependencies(lincity-ng allDataFiles.target)
@@ -91,7 +92,8 @@ foreach(infoFile ${infoFiles})
     WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
     COMMENT "copying ${infoFile} to build directory"
   )
-  install(FILES ${infoFile} DESTINATION ${CMAKE_INSTALL_APPDATADIR}/${infoFile})
+  cmake_path(GET infoFile PARENT_PATH infoFileDst)
+  install(FILES ${CMAKE_CURRENT_BINARY_DIR}/${infoFile} DESTINATION ${CMAKE_INSTALL_APPDATADIR}/${infoFileDst})
 endforeach()
 add_custom_target(infoFiles.target DEPENDS ${infoFiles})
 add_dependencies(lincity-ng infoFiles.target)
