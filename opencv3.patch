diff --git a/src/camera/pfsalign.cpp b/src/camera/pfsalign.cpp
index 4ea59c7..fcd94b2 100644
--- a/src/camera/pfsalign.cpp
+++ b/src/camera/pfsalign.cpp
@@ -48,6 +48,8 @@
 #include <opencv2/core/core.hpp>
 #include <opencv2/highgui/highgui.hpp>
 #include <opencv2/features2d/features2d.hpp>
+#include <opencv2/features2d.hpp>
+#include <opencv2/xfeatures2d/nonfree.hpp>
 #include <opencv2/calib3d/calib3d.hpp>
 #include <opencv2/imgproc/imgproc.hpp>
 #include <libexif/exif-data.h>
@@ -69,6 +71,7 @@ class QuietException
 
 using namespace cv;
 using namespace std;
+using namespace cv::xfeatures2d;
 
 void printHelp()
 {
@@ -168,11 +171,10 @@ bool alignImagePair( const Mat &ref_img, const Mat &exp_img, Mat &homography, in
     Mat descr_ref, descr_exp;
 
     #ifdef USE_SURF
-        Ptr<FeatureDetector> detector(new DynamicAdaptedFeatureDetector( new SurfAdjuster( (11-sensitivity) * 100.f, 2, 1000 ),
-                                                                     100, 1000, sensitivity/2+2 ));
+        Ptr<SURF> surfDesc = SURF::create();
         toc.tic( "feature detection" );
-        detector->detect( ref_img, keypoints1 );
-        detector->detect( exp_img, keypoints2 );
+        surfDesc->detect( ref_img, keypoints1 );
+        surfDesc->detect( exp_img, keypoints2 );
         toc.toc( );
     #else
         Ptr<AKAZE> akaze = AKAZE::create();
@@ -202,13 +204,11 @@ bool alignImagePair( const Mat &ref_img, const Mat &exp_img, Mat &homography, in
         return false;
     }
 
-    //        SiftDescriptorExtractor surfDesc;
     #ifdef USE_SURF
-        SurfDescriptorExtractor surfDesc;
 
         toc.tic( "descriptor extraction" );
-        surfDesc.compute( ref_img, keypoints1, descr_ref );
-        surfDesc.compute( exp_img, keypoints2, descr_exp );
+        surfDesc->compute( ref_img, keypoints1, descr_ref );
+        surfDesc->compute( exp_img, keypoints2, descr_exp );
         toc.toc( );
     #endif
 
